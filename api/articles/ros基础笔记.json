{"title":"ros基础笔记","uid":"67338f19243fed8106d0d71a5166f950","slug":"ros基础笔记","date":"2022-12-11T14:49:22.000Z","updated":"2022-12-11T15:31:34.259Z","comments":true,"path":"api/articles/ros基础笔记.json","keywords":null,"cover":null,"content":"<h1 id=\"ros-基础小记\"><a href=\"#ros-基础小记\" class=\"headerlink\" title=\"ros 基础小记\"></a>ros 基础小记</h1><h3 id=\"创建工作空间\"><a href=\"#创建工作空间\" class=\"headerlink\" title=\"创建工作空间\"></a>创建工作空间</h3><p>初始化工作空间</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">catkin_init_workspace</code></pre>\n\n<p>编译工作空间</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">catkin_make</code></pre>\n\n<p>设置环境变量</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">source devel&#x2F;setup.bash</code></pre>\n\n<p>设置环境变量，并且不用每次都source</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">echo &quot;source&#x2F;WORKSPACE&#x2F;deve&#x2F;setup.bash&quot;&gt;&gt;~&#x2F;.bashrc</code></pre>\n\n<h3 id=\"创建功能包\"><a href=\"#创建功能包\" class=\"headerlink\" title=\"创建功能包\"></a>创建功能包</h3><p>创建功能包</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">catkin_creak_pkg package_name depend1 depend2 depend3</code></pre>\n\n<p>例如</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">catkin_create_pkg learning_communication std_msgs rospy roscpp</code></pre>\n\n<h3 id=\"创建发布者\"><a href=\"#创建发布者\" class=\"headerlink\" title=\"创建发布者\"></a>创建发布者</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;&#x2F; ROS节点初始化\nros::init(argc, argv, &quot;talker&quot;);\n\n&#x2F;&#x2F; 创建节点句柄\nros::NodeHandle n;\n\n&#x2F;&#x2F; 创建一个Publisher\nros::Publisher chatter_pub &#x3D; n.advertise&lt;std_msgs::String&gt;(&quot;chatter&quot;, 1000);</code></pre>\n\n<h3 id=\"创建订阅者\"><a href=\"#创建订阅者\" class=\"headerlink\" title=\"创建订阅者\"></a>创建订阅者</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">&#x2F;&#x2F; 接收到订阅信号后，进入消息回调函数\nvoid chatterCallback(const std_msgs::String::ConstPtr&amp; msg)\n&#123;\n    &#x2F;&#x2F; 将接收到的消息打印出来\n    ROS_INFO(&quot;I heard: [%s]&quot;, msg-&gt;data.c_str());\n&#125;\n\nvoid main(int argc, char** argv)\n&#123;\n    &#x2F;&#x2F; 初始化ROS节点\n    ros::init(argc, argv, &quot;talker&quot;);\n    \n    &#x2F;&#x2F; 创建节点句柄\n    ros::NodeHandle n;\n    \n    &#x2F;&#x2F; 创建一个Subscriber\n    ros::Subscriber sub &#x3D; n.subsricbe(&quot;chatter&quot;, 1000, chatterCallback);\n    \n    &#x2F;&#x2F; 循环等待回调函数\n    ros::spin();\n    \n    return 0;\n&#125;</code></pre>\n\n<h3 id=\"自定义话题消息\"><a href=\"#自定义话题消息\" class=\"headerlink\" title=\"自定义话题消息\"></a>自定义话题消息</h3><h5 id=\"增加smg文件\"><a href=\"#增加smg文件\" class=\"headerlink\" title=\"增加smg文件\"></a>增加smg文件</h5><p>ROS中提供了一系列不同消息类型的功能包，如std_msgs、geometry_msgs等，很多情况下需，要针对自己的机器人应用设计特定的消息类型，以下列msg文件为例，定义了描述一个个人信息的消息类型</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">string name\nuint8 sex \nuint8 age\nuint8 unknown&#x3D;0\nuint8 male&#x3D;1\nunit8 female&#x3D;2</code></pre>\n\n<h5 id=\"修改CmakeList-txt\"><a href=\"#修改CmakeList-txt\" class=\"headerlink\" title=\"修改CmakeList.txt\"></a>修改CmakeList.txt</h5>","feature":true,"text":"ros 基础小记创建工作空间初始化工作空间 catkin_init_workspace 编译工作空间 catkin_make 设置环境变量 source devel&#x2F;setup.bash 设置环境变量，并且不用每次都source echo &quot;source&#x...","link":"","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#ros-%E5%9F%BA%E7%A1%80%E5%B0%8F%E8%AE%B0\"><span class=\"toc-text\">ros 基础小记</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4\"><span class=\"toc-text\">创建工作空间</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E5%8A%9F%E8%83%BD%E5%8C%85\"><span class=\"toc-text\">创建功能包</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E5%8F%91%E5%B8%83%E8%80%85\"><span class=\"toc-text\">创建发布者</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E8%AE%A2%E9%98%85%E8%80%85\"><span class=\"toc-text\">创建订阅者</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%AF%9D%E9%A2%98%E6%B6%88%E6%81%AF\"><span class=\"toc-text\">自定义话题消息</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E5%A2%9E%E5%8A%A0smg%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">增加smg文件</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9CmakeList-txt\"><span class=\"toc-text\">修改CmakeList.txt</span></a></li></ol></li></ol></li></ol></li></ol></li></ol>","author":{"name":"Shockley","slug":"blog-author","avatar":"https://s1.ax1x.com/2022/10/27/xhKxMQ.jpg","link":"https://www.cnblogs.com/rock3t/","description":"菜鸟一枚，会发一些记录生活和学习笔记的小文章","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"behaviour_trees","uid":"17ea8686d376515017bade70e3f63f74","slug":"behaviour-trees","date":"2023-03-10T12:16:37.000Z","updated":"2023-03-11T13:24:13.874Z","comments":true,"path":"api/articles/behaviour-trees.json","keywords":null,"cover":[],"text":"前言本文主要介绍基于ros-noetic 版本的行为树 https://github.com/splintered-reality/py_trees_ros&#x2F;blob&#x2F;devel&#x2F;README.md 在规划复杂机器人行为中，行为树可以很好地帮我们完成...","link":"","photos":[],"count_time":{"symbolsCount":"8.8k","symbolsTime":"8 mins."},"categories":[],"tags":[],"author":{"name":"Shockley","slug":"blog-author","avatar":"https://s1.ax1x.com/2022/10/27/xhKxMQ.jpg","link":"https://www.cnblogs.com/rock3t/","description":"菜鸟一枚，会发一些记录生活和学习笔记的小文章","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"C语言oj心得_扫雪挑战","uid":"563aa1fc6f17a3a1184aeccab51ff935","slug":"C语言oj心得","date":"2022-11-24T12:35:43.000Z","updated":"2022-11-24T12:59:32.843Z","comments":true,"path":"api/articles/C语言oj心得.json","keywords":null,"cover":[],"text":"扫雪挑战题目描述冬天到啦，住在南方城市的你可能从没见过下雪，但是住在北方城市的小明可犯了愁，他的家门口的街道堆满了雪！ 小明想要清理掉这些积雪，可是他一个人的力量不足以解决，于是他叫来了Q个工人帮忙 但是这些工人有强迫症，他们只会清理从起点m到终点n的道路上的积雪（m，n均为整数...","link":"","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"Shockley","slug":"blog-author","avatar":"https://s1.ax1x.com/2022/10/27/xhKxMQ.jpg","link":"https://www.cnblogs.com/rock3t/","description":"菜鸟一枚，会发一些记录生活和学习笔记的小文章","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}